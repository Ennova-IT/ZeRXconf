{"name":"ZeRXconf","tagline":"Implementation of ZeroConf protocol for Android, using native Android API and JmDNS","body":"# ZeRXconf\r\nThis library has been built in order to provide a Reactive wrapper around the Android [Network Service Discovery][nsd] API and the [JmDNS implementation][jmdns] for older devices.  \r\n\r\n![Compatibility: Android 2.3+](https://img.shields.io/badge/compatibility-Android%202.3%2B-green.svg)\r\n![Version: 1.0.1](https://img.shields.io/badge/version-1.0.1-green.svg)\r\n![License: MIT](https://img.shields.io/badge/license-MIT-blue.svg)\r\n## What is Zeroconf\r\nFrom [Wikipedia][wikipedia-zeroconf]:\r\n> Zero-configuration networking (**zeroconf**) is a set of technologies that automatically creates a usable computer network based on the Internet Protocol Suite (TCP/IP) when computers or network peripherals are interconnected. It does not require manual operator intervention or special configuration servers.  \r\n**Zeroconf** is built on three core technologies: assignment of numeric network addresses for networked devices, automatic distribution and resolution of computer hostnames, and automatic location of network services, such as printing devices. Without zeroconf, a network administrator must set up services, such as Dynamic Host Configuration Protocol (DHCP) and Domain Name System (DNS), or configure each computer's network settings manually.\r\n\r\nYou might have heard more about the [Bonjour Service][bonjour] from Apple, that is the custom implementation of **Zeroconf protocol**.\r\n\r\nAs an example, you can see Zeroconf working in the Chromecast environment, where you don't specify the address of the device, but it gets found easily by the apps. *Zeroconf is how it happens*.\r\n\r\n# Importing the library\r\n## Gradle\r\nAdd the ```JitPack``` repository to the root ```build.gradle``` file of your project\r\n```java\r\nallprojects {\r\n\trepositories {\r\n\t\t...\r\n\t\tmaven { url \"https://jitpack.io\" }\r\n\t}\r\n}\r\n```\r\n\r\nImport the library in your app's module ```build.gradle```\r\n```java\r\ndependencies {\r\n    ...\r\n    compile 'com.github.Ennova-IT:ZeRXconf:1.0.2'\r\n}\r\n```\r\n\r\n## Maven\r\nAdd the ```JitPack``` repository to your build file\r\n```\r\n<repositories>\r\n\t<repository>\r\n\t    <id>jitpack.io</id>\r\n\t    <url>https://jitpack.io</url>\r\n\t</repository>\r\n</repositories>\r\n```\r\n\r\nAdd the dependency\r\n```\r\n<dependency>\r\n    <groupId>com.github.Ennova-IT</groupId>\r\n    <artifactId>ZeRXconf</artifactId>\r\n    <version>1.0.2</version>\r\n</dependency>\r\n```\r\n\r\n# How to use ZeRXconf\r\n>All the calls made by this library are written so that **the chain is executed on a separate thread** and the result of the computation is returned back on the main thread\r\n\r\n\r\n**Note**: the calls to the methods included in the ```ZeRXconf``` class return a ```Subscription``` that awaits for the unsubscription in order to kill the advertising or the discovery service. As a surplus, we wired in the logic needed to be compatible to the [RxLifecycle][rxlifecycle] library so that, if you ```compose``` the ```Observable``` with the ```Activity``` or ```Fragment``` events, it will tear down the service correctly as well.\r\n\r\n## Model\r\nAll the methods of this library will emit object of the ```NetworkServiceDiscoveryInfo``` class, that is a wrapper for both the ```NsdServiceInfo``` provided by athe Android API and the ```ServiceInfo``` that comes with the JmDNS library.\r\n## Advertising your own service\r\nWhen you need to start advertising your service, you need to provide the factory method with a few parameters, so that the API can build up the request.\r\n\r\n>Since the Android implementation can be used only from **Android 4.1**, for previous versions of the system it will be automatically used the JmDNS implementation. Unfortunately, if you need to pass custom attributes to the service, Android supports it only from version **5.1 (API 21)** so, in that case, the library will revert to the JmDNS implementation in order to give the desired behaviour.\r\n\r\n```java\r\nSubscription s = ZeRXconf.advertise(context, \"ZeRXconf\", \"_http._tcp.\", 1234, getAttributes())\r\n                .subscribe(onNext, onError);\r\n```\r\n\r\n## Discovering all the available services\r\n>As per API limitation, listing all the services available in the current network will not allow the components to resolve them. That means that you will have to call the ```startDiscovery(Context, String)``` on the specific protocol for having the data resolved correctly. If, when doing so you receive an exception from the ```DiscoveryListener```, make sure you closed the previous ```Subscription``` before starting a new one.\r\n\r\n```java\r\nSubscription s = ZeRXconf.startDiscovery(context).subscribe(onNext, onError);\r\n```\r\n\r\n## Discovering all the available services of a single kind\r\nIf you need to discover all the devices advertising a specific protocol, you shall use the ```startDiscovery(Context, String)``` factory method as this one will allow the resolution of the services and the item received will be ready to be consumed by your logic.\r\n\r\n>As per design choice, this factory method will throw a ```NsdException``` if protocol equals either the ```\"_services._dns-sd._udp\"``` value or the ```ALL_AVAILABLE_SERVICES```. This a wanted behaviour that can alert you before you ship the product with an unwanted behaviour in it.  \r\n**This method will not throw any other type of exception but it will notifiy you of errors while discovering the services with the usual ```onError``` callback**\r\n\r\n```java\r\nSubscription s = ZeRXconf.startDiscovery(context, \"_http._tcp.\").subscribe(onNext, onError);\r\n```\r\n\r\n# License\r\n\r\n*Copyright (c) 2015 Ennova S.r.l.*\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n[nsd]: <http://developer.android.com/training/connect-devices-wirelessly/nsd.html>\r\n[jmdns]: <https://github.com/jmdns/jmdns>\r\n[wikipedia-zeroconf]: <https://en.wikipedia.org/wiki/Zero-configuration_networking>\r\n[bonjour]: <http://www.apple.com/support/bonjour/>\r\n[rxlifecycle]: <https://github.com/trello/RxLifecycle>\r\n\r\n\r\n\r\n","google":"UA-72923318-1","note":"Don't delete this file! It's used internally to help with page regeneration."}